<% row_class = "" if local_assigns[:row_class].nil? %>

<tr id="<%= "film-#{film.id}" %>" class="<%= row_class %>">
  <td class="select-box"><%= check_box_tag "film_ids[]", film.id, false, class: "film-select" unless film.deleted? %></td>
  <td class="actions">
  <% if film.deleted == true %>
    <%= link_to "", restore_film_path(film), method: :patch, remote: true, id: "film-#{film.id}-restore", class: "glyphicon glyphicon-wrench" %>
  <% else %>
    <%= link_to '', edit_film_path(film), { :"data-toggle" => "modal", :"data-target" => "#forms-modal", id: "film-#{film.id}-edit", class: "glyphicon glyphicon-edit" } %>
    <%= link_to '', split_film_path(film), { :"data-toggle" => "modal", :"data-target" => "#forms-modal", id: "film-#{film.id}-split", class: "glyphicon glyphicon-fullscreen" } if film.phase == "stock" %>
  <% end %>
  </td>
  <td class="serial">
    <strong><%= film.serial %></strong> <span class="label label-default"><%= film.formula %></span>
    <% if film.sales_order && film.sales_order.ship_date? && film.phase != "fg" %>
      <span class="glyphicon glyphicon-warning-sign"></span>
    <% end %>
  </td>
  <td class="width"><%= film.width %></td>
  <td class="length"><%= film.length %></td>
  <td class="area"><%= number_with_precision(film.area, precision: 2) %></td>
  <td class="shelf"><%= film.shelf %></td>
  <td class="order"><%= film.sales_order_code %>
    <% if film.order_fill_count > 1 && film.sales_order.present? %>
      <span class="badge"><%= film.order_fill_count %></span>
    <% end %>
  </td>
  <td class="note"><%= film.note %></td>
</tr>
